{% doc %}
  @prompt
    Create a luxury artist application form section with heading "Ready to collaborate? Submit your application below to join ATAH's mission". CRITICAL: Full black background for entire section.
    
    Form fields:
    1. Full Name (text input)
    2. Email Address (email input)
    3. Area of Expertise (text input)
    4. Portfolio Link (URL input with placeholder: https://yourportfolio.com)
    5. Tell Us About Your Work (large textarea for describing style, experience, and reason for collaboration)
    6. Submit Application button
    
    Design: Full black background (#000000 or very dark black). White or light grey text for high contrast. Elegant serif heading in white, modern sans-serif body text and form labels in white/light grey. Form inputs with subtle borders, dark background with light text or white background with dark text. Elegant submit button with hover effects. Generous spacing, sophisticated luxury style. Fully responsive on all screen sizes. Form should integrate with Shopify contact system., it's width should fill up the whole site width , the button should turn black when hovered over it
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-artist-form-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    padding: 80px 20px;
    width: 100%;
    margin: 0;
  }

  .ai-artist-form-container-{{ ai_gen_id }} {
    max-width: 800px;
    margin: 0 auto;
    width: 100%;
  }

  .ai-artist-form-heading-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-style: {{ block.settings.heading_font.style }};
    color: {{ block.settings.heading_color }};
    font-size: {{ block.settings.heading_size }}px;
    line-height: 1.2;
    margin: 0 0 60px;
    text-align: center;
  }

  .ai-artist-form-field-{{ ai_gen_id }} {
    margin-bottom: 32px;
  }

  .ai-artist-form-label-{{ ai_gen_id }} {
    display: block;
    color: {{ block.settings.label_color }};
    font-size: {{ block.settings.label_size }}px;
    margin-bottom: 12px;
    font-weight: 500;
    letter-spacing: 0.5px;
  }

  .ai-artist-form-input-{{ ai_gen_id }},
  .ai-artist-form-textarea-{{ ai_gen_id }} {
    width: 100%;
    padding: 16px 20px;
    background-color: {{ block.settings.input_background }};
    color: {{ block.settings.input_text_color }};
    border: {{ block.settings.input_border_width }}px solid {{ block.settings.input_border_color }};
    border-radius: {{ block.settings.input_border_radius }}px;
    font-size: 16px;
    font-family: inherit;
    transition: all 0.3s ease;
  }

  .ai-artist-form-input-{{ ai_gen_id }}::placeholder,
  .ai-artist-form-textarea-{{ ai_gen_id }}::placeholder {
    color: {{ block.settings.placeholder_color }};
    opacity: 0.7;
  }

  .ai-artist-form-input-{{ ai_gen_id }}:focus,
  .ai-artist-form-textarea-{{ ai_gen_id }}:focus {
    outline: none;
    border-color: {{ block.settings.input_focus_border_color }};
    background-color: {{ block.settings.input_focus_background }};
  }

  .ai-artist-form-textarea-{{ ai_gen_id }} {
    min-height: 180px;
    resize: vertical;
    line-height: 1.6;
  }

  .ai-artist-form-button-{{ ai_gen_id }} {
    width: 100%;
    padding: 18px 40px;
    background-color: {{ block.settings.button_background }};
    color: {{ block.settings.button_text_color }};
    border: {{ block.settings.button_border_width }}px solid {{ block.settings.button_border_color }};
    border-radius: {{ block.settings.button_border_radius }}px;
    font-size: {{ block.settings.button_font_size }}px;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 20px;
  }

  .ai-artist-form-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_background }};
    color: {{ block.settings.button_hover_text_color }};
    border-color: {{ block.settings.button_hover_border_color }};
    transform: translateY(-2px);
  }

  .ai-artist-form-success-{{ ai_gen_id }} {
    color: {{ block.settings.success_color }};
    font-size: 16px;
    margin-top: 20px;
    text-align: center;
    padding: 16px;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: {{ block.settings.input_border_radius }}px;
  }

  .ai-artist-form-error-{{ ai_gen_id }} {
    color: {{ block.settings.error_color }};
    font-size: 14px;
    margin-top: 8px;
  }

  @media screen and (max-width: 749px) {
    .ai-artist-form-{{ ai_gen_id }} {
      padding: 60px 16px;
    }

    .ai-artist-form-heading-{{ ai_gen_id }} {
      font-size: calc({{ block.settings.heading_size }}px * 0.7);
      margin-bottom: 40px;
    }

    .ai-artist-form-field-{{ ai_gen_id }} {
      margin-bottom: 24px;
    }

    .ai-artist-form-label-{{ ai_gen_id }} {
      font-size: calc({{ block.settings.label_size }}px * 0.9);
    }

    .ai-artist-form-button-{{ ai_gen_id }} {
      font-size: calc({{ block.settings.button_font_size }}px * 0.9);
    }
  }
{% endstyle %}

<div class="ai-artist-form-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-artist-form-container-{{ ai_gen_id }}">
    <h2 class="ai-artist-form-heading-{{ ai_gen_id }}">
      {{ block.settings.heading }}
    </h2>

    {% assign form_id = block.id | prepend: 'ArtistContactForm-' %}
    
    {% form 'contact', id: form_id, class: 'ai-artist-form-form' %}
      <input type="hidden" name="contact[subject]" value="Artist Application">

      {% if form.errors %}
        <div class="ai-artist-form-error-{{ ai_gen_id }}" style="margin-bottom: 20px; padding: 16px; background-color: rgba(255, 82, 82, 0.1); border-radius: {{ block.settings.input_border_radius }}px;">
          {{ 'blocks.contact_form.error_heading' | t }}
        </div>
      {% endif %}

      <div class="ai-artist-form-field-{{ ai_gen_id }}">
        <label for="ai-artist-name-{{ ai_gen_id }}" class="ai-artist-form-label-{{ ai_gen_id }}">
          {{ block.settings.name_label }}
        </label>
        <input
          type="text"
          id="ai-artist-name-{{ ai_gen_id }}"
          name="contact[name]"
          class="ai-artist-form-input-{{ ai_gen_id }}"
          value="{{ form.name }}"
          required
          {% if form.errors contains 'name' %}
            aria-invalid="true"
          {% endif %}
        >
        {% if form.errors contains 'name' %}
          <div class="ai-artist-form-error-{{ ai_gen_id }}">
            {{ form.errors.messages.name }}
          </div>
        {% endif %}
      </div>

      <div class="ai-artist-form-field-{{ ai_gen_id }}">
        <label for="ai-artist-email-{{ ai_gen_id }}" class="ai-artist-form-label-{{ ai_gen_id }}">
          {{ block.settings.email_label }}
        </label>
        <input
          type="email"
          id="ai-artist-email-{{ ai_gen_id }}"
          name="contact[email]"
          class="ai-artist-form-input-{{ ai_gen_id }}"
          value="{{ form.email }}"
          required
          autocomplete="email"
          {% if form.errors contains 'email' %}
            aria-invalid="true"
          {% endif %}
        >
        {% if form.errors contains 'email' %}
          <div class="ai-artist-form-error-{{ ai_gen_id }}">
            {{ form.errors.messages.email }}
          </div>
        {% endif %}
      </div>

      <div class="ai-artist-form-field-{{ ai_gen_id }}">
        <label for="ai-artist-expertise-{{ ai_gen_id }}" class="ai-artist-form-label-{{ ai_gen_id }}">
          {{ block.settings.expertise_label }}
        </label>
        <input
          type="text"
          id="ai-artist-expertise-{{ ai_gen_id }}"
          name="expertise"
          class="ai-artist-form-input-{{ ai_gen_id }}"
          data-field="expertise"
          required
        >
      </div>

      <div class="ai-artist-form-field-{{ ai_gen_id }}">
        <label for="ai-artist-portfolio-{{ ai_gen_id }}" class="ai-artist-form-label-{{ ai_gen_id }}">
          {{ block.settings.portfolio_label }}
        </label>
        <input
          type="url"
          id="ai-artist-portfolio-{{ ai_gen_id }}"
          name="portfolio"
          class="ai-artist-form-input-{{ ai_gen_id }}"
          data-field="portfolio"
          placeholder="{{ block.settings.portfolio_placeholder }}"
          required
        >
      </div>

      <div class="ai-artist-form-field-{{ ai_gen_id }}">
        <label for="ai-artist-message-{{ ai_gen_id }}" class="ai-artist-form-label-{{ ai_gen_id }}">
          {{ block.settings.message_label }}
        </label>
        <textarea
          id="ai-artist-message-{{ ai_gen_id }}"
          name="contact[body]"
          class="ai-artist-form-textarea-{{ ai_gen_id }}"
          data-field="body"
          required
        >{{ form.body }}</textarea>
        {% if form.errors contains 'body' %}
          <div class="ai-artist-form-error-{{ ai_gen_id }}">
            {{ form.errors.messages.body }}
          </div>
        {% endif %}
      </div>

      <button type="submit" class="ai-artist-form-button-{{ ai_gen_id }}">
        {{ block.settings.button_text }}
      </button>

      {% if form.posted_successfully? %}
        <div class="ai-artist-form-success-{{ ai_gen_id }}">
          {{ block.settings.success_message }}
        </div>
      {% endif %}
    {% endform %}

    <script>
      (function() {
        const form = document.getElementById('{{ form_id }}');
        if (!form) return;

        form.addEventListener('submit', function(e) {
          const expertiseField = form.querySelector('[data-field="expertise"]');
          const portfolioField = form.querySelector('[data-field="portfolio"]');
          const bodyField = form.querySelector('[data-field="body"]');

          if (expertiseField && portfolioField && bodyField) {
            const expertise = expertiseField.value || '';
            const portfolio = portfolioField.value || '';
            const message = bodyField.value || '';

            // Combine all fields into the body message
            let combinedMessage = '';
            
            if (expertise) {
              combinedMessage += 'Area of Expertise: ' + expertise + '\n\n';
            }
            
            if (portfolio) {
              combinedMessage += 'Portfolio Link: ' + portfolio + '\n\n';
            }
            
            if (message) {
              combinedMessage += 'Message:\n' + message;
            }

            bodyField.value = combinedMessage.trim();
          }
        });
      })();
    </script>
  </div>
</div>

{% schema %}
{
  "name": "Artist application form",
  "tag": null,
  "class": "full-width-block",
  "settings": [
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "Ready to collaborate? Submit your application below to join ATAH's mission"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "serif"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 42
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Form labels"
    },
    {
      "type": "inline_richtext",
      "id": "name_label",
      "label": "Name label",
      "default": "Full Name"
    },
    {
      "type": "inline_richtext",
      "id": "email_label",
      "label": "Email label",
      "default": "Email Address"
    },
    {
      "type": "inline_richtext",
      "id": "expertise_label",
      "label": "Expertise label",
      "default": "Area of Expertise"
    },
    {
      "type": "inline_richtext",
      "id": "portfolio_label",
      "label": "Portfolio label",
      "default": "Portfolio Link"
    },
    {
      "type": "inline_richtext",
      "id": "portfolio_placeholder",
      "label": "Portfolio placeholder",
      "default": "https://yourportfolio.com"
    },
    {
      "type": "inline_richtext",
      "id": "message_label",
      "label": "Message label",
      "default": "Tell Us About Your Work"
    },
    {
      "type": "range",
      "id": "label_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Label size",
      "default": 14
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Label color",
      "default": "#E6E6E6"
    },
    {
      "type": "header",
      "content": "Form inputs"
    },
    {
      "type": "color",
      "id": "input_background",
      "label": "Background",
      "default": "#1A1A1A"
    },
    {
      "type": "color",
      "id": "input_text_color",
      "label": "Text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "placeholder_color",
      "label": "Placeholder color",
      "default": "#999999"
    },
    {
      "type": "color",
      "id": "input_border_color",
      "label": "Border color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "input_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 1
    },
    {
      "type": "range",
      "id": "input_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 4
    },
    {
      "type": "color",
      "id": "input_focus_background",
      "label": "Focus background",
      "default": "#262626"
    },
    {
      "type": "color",
      "id": "input_focus_border_color",
      "label": "Focus border color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Submit button"
    },
    {
      "type": "inline_richtext",
      "id": "button_text",
      "label": "Button text",
      "default": "Submit Application"
    },
    {
      "type": "range",
      "id": "button_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Border color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "button_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 0
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 4
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Hover background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Hover text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_hover_border_color",
      "label": "Hover border color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Messages"
    },
    {
      "type": "inline_richtext",
      "id": "success_message",
      "label": "Success message",
      "default": "Thank you for your application! We'll review your submission and get back to you soon."
    },
    {
      "type": "color",
      "id": "success_color",
      "label": "Success color",
      "default": "#4CAF50"
    },
    {
      "type": "color",
      "id": "error_color",
      "label": "Error color",
      "default": "#FF5252"
    },
    {
      "type": "header",
      "content": "Section style"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#000000"
    }
  ],
  "presets": [
    {
      "name": "Artist application form"
    }
  ]
}
{% endschema %}
